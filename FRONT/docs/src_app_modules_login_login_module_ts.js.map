{"version":3,"sources":["./src/app/modules/login/login-routing.module.ts","./src/app/modules/login/login.component.ts","./src/app/modules/login/login.component.html","./src/app/modules/login/login.module.ts"],"names":[],"mappings":"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","file":"src_app_modules_login_login_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: LoginComponent},\r\n  {path: '**', pathMatch: 'full', redirectTo: 'login'}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { SnackService } from 'src/app/services/snack.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css'],\r\n})\r\nexport class LoginComponent {\r\n\r\n  formLogin: FormGroup;\r\n  buttonText: string;\r\n  footer: string;\r\n  isLogin: boolean = true;\r\n\r\n  constructor(\r\n    private _authService: AuthService,\r\n    private _router: Router,\r\n    private _formBuilder: FormBuilder,\r\n    private _snackService: SnackService,\r\n  ) {\r\n    this.isLogin = this._router.url.includes(\"login\") ? true : false;\r\n    this.buttonText =  this._router.url.includes(\"login\") ? \"Iniciar Sesión\" : \"Registrarse\";\r\n    this.footer =  this._router.url.includes(\"login\") ? \"Registrarse\" : \"¿Ya tienes una cuenta?\";\r\n   \r\n    this.formLogin = this._formBuilder.group({\r\n      user: ['', [Validators.required]],\r\n      password: ['', [Validators.required]],\r\n      passwordConfirm: ['', []],\r\n      userConfirm: ['', []],\r\n    });\r\n\r\n  }\r\n\r\n  handleButtonType(){\r\n    if (this.isLogin){\r\n      this._router.navigate([\"register\"]);\r\n    }else{\r\n      this._router.navigate([\"login\"]);\r\n    }\r\n  }\r\n\r\n  handleClick() {\r\n    if (this.buttonText == 'Iniciar Sesión') {\r\n      this.login();\r\n    } else {\r\n      this.register();\r\n    }\r\n  }\r\n\r\n  login() {\r\n    if (this.formLogin.invalid) {\r\n      this._snackService.presentError('Email Invalido O Contraseña Invalidos');\r\n      return;\r\n    }\r\n\r\n    let { user, password } = this.formLogin.value;\r\n\r\n    this._authService.login({ user, password }).subscribe(\r\n      (res) => {\r\n        if (res.error) {\r\n          this._snackService.presentError(res.error);\r\n          return;\r\n        }\r\n\r\n        this._authService.token = res.data.token;\r\n\r\n        this._router.navigate(['panel', 'clients']);\r\n      },\r\n      (err) => {\r\n        this._snackService.presentError(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  register() {\r\n    if (this.formLogin.invalid) {\r\n      this._snackService.presentError('Email Invalido O Contraseña Invalidos');\r\n      return;\r\n    }\r\n\r\n    let { user, password, passwordConfirm, userConfirm } = this.formLogin.value;\r\n\r\n    if (password != passwordConfirm || user != userConfirm) {\r\n      this._snackService.presentError('Los datos no coinciden');\r\n      return;\r\n    }\r\n\r\n    this._authService.register({ user, password }).subscribe((res) => {\r\n      if (res.error) {\r\n        this._snackService.presentError(res.error);\r\n        return;\r\n      }\r\n\r\n      this._authService.token = res.data.token;\r\n\r\n      this._router.navigate(['panel', 'clients']);\r\n      return;\r\n    },\r\n    (err) => {\r\n      this._snackService.presentError(err);\r\n    });\r\n  }\r\n}\r\n","<div\r\n  class=\"p-2\"\r\n  [ngStyle]=\"{\r\n    background: isLogin\r\n      ? 'linear-gradient(39.97deg, #9cc4db 0.79%, #6e75f0 79.29%)'\r\n      : 'linear-gradient(79.97deg, #4cc4db 0.79%, #6e75f0 79.29%)'\r\n  }\"\r\n  style=\"background-size: cover\"\r\n>\r\n  <div\r\n    class=\"container d-flex justify-content-center align-content-center\"\r\n    style=\"min-height: 100vh\"\r\n  >\r\n    <div class=\"row d-flex justify-content-center align-content-center w-100\">\r\n      <!-- div class=\"col-sm-12 col-md-6 p-5 border text-center -->\r\n      <div class=\"col-12 col-sm-10 col-md-8 col-lg-6 text-center text-white\">\r\n        <img\r\n          src=\"../../../assets/logo.png\"\r\n          alt=\"logo under\"\r\n          style=\"width: 275px\"\r\n        />\r\n        <h1 class=\"text-light\" style=\"font-size: 22px\">\r\n          ¡ Bienvenido/a ! <strong>BETA 0.1</strong>\r\n        </h1>\r\n        <br />\r\n\r\n        <form (ngSubmit)=\"handleClick()\" [formGroup]=\"formLogin\" class=\"mt-4\">\r\n          <div class=\"mb-3 d-flex\">\r\n            <i class=\"fas fa-user icono\" style=\"font-size: 25px\"></i>\r\n            <input\r\n              type=\"email\"\r\n              class=\"form-control\"\r\n              formControlName=\"user\"\r\n              placeholder=\"Nombre de usuario\"\r\n            />\r\n          </div>\r\n\r\n          <div *ngIf=\"!isLogin\" class=\"mb-3 d-flex\">\r\n            <i class=\"fas fa-user icono\" style=\"font-size: 25px\"></i>\r\n            <input\r\n              type=\"email\"\r\n              class=\"form-control\"\r\n              formControlName=\"userConfirm\"\r\n              placeholder=\"Nombre de usuario\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"mb-3 d-flex\">\r\n            <i class=\"fas fa-key icono\" style=\"font-size: 25px\"></i>\r\n            <input\r\n              formControlName=\"password\"\r\n              autocomplete=\"off\"\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              placeholder=\"Contraseña\"\r\n            />\r\n          </div>\r\n\r\n          <div *ngIf=\"!isLogin\" class=\"mb-3 d-flex\">\r\n            <i class=\"fas fa-key icono\" style=\"font-size: 25px\"></i>\r\n            <input\r\n              formControlName=\"passwordConfirm\"\r\n              autocomplete=\"off\"\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              placeholder=\"Confirmar Contraseña\"\r\n            />\r\n          </div>\r\n\r\n          <br />\r\n          <button\r\n            mat-raised-button\r\n            class=\"btn btn-lg btn-sesion\"\r\n            color=\"primary\"\r\n            style=\"width: 225px; border-radius: 20px\"\r\n          >\r\n            {{ buttonText }}\r\n          </button>\r\n\r\n          <div class=\"text-center text-white enlaces\">\r\n            <br />\r\n            <a\r\n              mat-button\r\n              style=\"font-size: 22px\"\r\n              (click)=\"handleButtonType()\"\r\n              >{{ footer }}</a\r\n            >\r\n            <a mat-button style=\"font-size: 22px\" routerLink=\"\"\r\n              >¿Olvidaste tu contraseña?</a\r\n            >\r\n          </div>\r\n          <br />\r\n          <div class=\"text-center mat-typography\">\r\n            <h4 style=\"font-size: 19px\">\r\n              <br />\r\n              Al iniciar sesión, aceptas nuestros\r\n              <br />\r\n              <a class=\"links\" href=\"\"\r\n                ><span style=\"font-weight: 500\">Términos y Condiciones</span></a\r\n              >\r\n              y\r\n              <a class=\"links\" href=\"\"\r\n                ><span style=\"font-weight: 500\">Política de privacidad</span></a\r\n              >\r\n            </h4>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { LoginRoutingModule } from './login-routing.module';\r\nimport { LoginComponent } from './login.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [LoginComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LoginRoutingModule,\r\n    SharedModule,\r\n  ]\r\n})\r\nexport class LoginModule { }\r\n"],"sourceRoot":"webpack:///"}