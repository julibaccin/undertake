{"version":3,"sources":["./src/app/modules/products/components/addupdate/addupdate.component.ts","./src/app/modules/products/components/addupdate/addupdate.component.html","./src/app/modules/products/products-routing.module.ts","./src/app/modules/products/products.component.html","./src/app/modules/products/products.component.ts","./src/app/modules/products/products.module.ts","./src/app/services/products.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AACoE;;;;AAU7D,MAAM,kBAAkB;IAO7B,YACU,YAAyB,EACzB,gBAAiC;QADjC,iBAAY,GAAZ,YAAY,CAAa;QACzB,qBAAgB,GAAhB,gBAAgB,CAAiB;QAN3C,QAAQ;QACR,aAAQ,GAAS,IAAI,CAAC;IAMhB,CAAC;IAEP,QAAQ;QAEN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAClC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAE,+DAAmB,CAAE,CAAE;YACpC,WAAW,EAAE,CAAC,EAAE,EAAE,CAAE,+DAAmB,CAAE,CAAE;YAC3C,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAE,+DAAmB,CAAE,CAAE;YACxC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAE,+DAAmB,CAAE,CAAE;YACrC,eAAe,EAAE,CAAC,EAAE,EAAE,CAAE,+DAAmB,CAAE,CAAE;YAC/C,IAAI,EAAE,CAAC,KAAK,EAAE,EAAG,CAAE;SACpB,CAAC;IAEJ,CAAC;IAED,eAAe,CAAC,CAAC,EAAE,aAAa;QAC9B,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;QAC9B,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EAAE;YAClB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM;QAClC,CAAC,CAAC;QACF,MAAM,CAAC,OAAO,GAAG,CAAC,CAAM,EAAE,EAAE;YAC1B,OAAO,CAAC,GAAG,CAAC,0BAA0B,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAChE,CAAC,CAAC;QACF,aAAa,IAAI,CAAC;QAChB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QACnC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACtC,CAAC;IAEK,WAAW,CAAC,IAAY,EAAE,OAAe,EAAE,IAAU;;YACzD,MAAM,SAAS,GAAG,IAAI,GAAG,OAAO,CAAC;YACjC,yEAAyE;YACzE,2CAA2C;QAC7C,CAAC;KAAA;IAEK,aAAa;;YAEjB,IAAI,EAAC,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,EAAE,eAAe,EAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACxE,IAAI,MAAM,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,EAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;YAErE,+BAA+B;YAC/B,UAAU;YACV,iBAAiB;YACjB,WAAW;YACX,UAAU;YACV,cAAc;YACd,qBAAqB;YACrB,kBAAkB;YAClB,IAAI;YAEJ,0EAA0E;YAE1E,KAAK,CAAC,2BAA2B,CAAC;YAClC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAEpB,CAAC;KAAA;;oFAlEU,kBAAkB;gHAAlB,kBAAkB;QCV/B,yEAAsB;QAClB,wEAAiB;QAAA,kFAAuB;QAAA,4DAAK;QAE7C,0EAAgF;QAA3B,0IAAU,mBAAe,IAAC;QAC7E,yEAAiB;QACf,yEAA6B;QAC3B,yEAAgC;QAC9B,sEAKE;QACF,2EAA2B;QAAA,iEAAM;QAAA,4DAAQ;QAC3C,4DAAM;QACN,0EAAgC;QAC9B,uEAKE;QACF,4EAA2B;QAAA,uEAAW;QAAA,4DAAQ;QAChD,4DAAM;QACR,4DAAM;QACN,0EAA6B;QAC3B,0EAAgC;QAC9B,uEAKE;QACF,4EAA2B;QAAA,kEAAM;QAAA,4DAAQ;QAC3C,4DAAM;QACN,0EAAgC;QAC9B,wEAKE;QACF,4EAA2B;QAAA,qEAAS;QAAA,4DAAQ;QAC9C,4DAAM;QAEN,2EAA6B;QAC3B,wEAME;QACF,6EAAkE;QAChE,sEACF;QAAA,4DAAQ;QACV,4DAAM;QACR,4DAAM;QACN,2EAAoB;QAClB,2EAAqC;QACnC,2EAAkB;QAChB,6EAAoD;QAAA,2EAAe;QAAA,4DAAQ;QAC3E,6EAKE;QAHA,kJAAU,4BAAuB,CAAC,CAAC,IAAC;QAFtC,4DAKE;QACJ,4DAAM;QACN,sEAKA;QACF,4DAAM;QACR,4DAAM;QACR,4DAAM;QAGN,8EAAmD;QAAA,2EAAe;QAAA,4DAAS;QAE7E,4DAAO;QACT,4DAAM;;QAhFoB,0DAAkB;QAAlB,+EAAkB;QAqElC,2DAAe;QAAf,yIAAe;;;;;;;;;;;;;;;;;;;;ACxE4B;AACE;;;AAEzD,MAAM,MAAM,GAAW;IACrB,EAAC,IAAI,EAAC,EAAE,EAAE,SAAS,EAAE,kEAAiB,EAAC;CACxC,CAAC;AAMK,MAAM,qBAAqB;;0FAArB,qBAAqB;kHAArB,qBAAqB;sHAHvB,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC,EAC9B,yDAAY;mIAEX,qBAAqB,oFAFtB,yDAAY;;;;;;;;;;;;;;;;;;;;;;;;;ICIlB,yEAAsC;IAAA,iEAAM;IAAA,4DAAK;;;IACjD,yEAAuC;IAAA,uDAAkB;IAAA,4DAAK;;;IAAvB,0DAAkB;IAAlB,iFAAkB;;;IAKzD,yEAAsC;IAAA,sEAAW;IAAA,4DAAK;;;IACtD,yEAAuC;IAAA,uDAAyB;IAAA,4DAAK;;;IAA9B,0DAAyB;IAAzB,wFAAyB;;;IAKhE,yEAAsC;IAAA,iEAAM;IAAA,4DAAK;;;IACjD,yEAAuC;IAAA,uDAAmB;IAAA,4DAAK;;;IAAxB,0DAAmB;IAAnB,kFAAmB;;;IAK1D,yEAAsC;IAAA,mEAAQ;IAAA,4DAAK;;;IACnD,yEAAuC;IACrC,6EAA+B;IAAA,mEAAQ;IAAA,4DAAS;IAChD,6EAAoC;IAAA,iEAAM;IAAA,4DAAS;IACrD,4DAAK;;;IAGP,oEAA4D;;;IAC5D,oEAAiE;;AChC9D,MAAM,iBAAiB;IAI5B,YAAoB,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;QAFpD,qBAAgB,GAAa,CAAC,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;QACtE,eAAU,GAAG,EAAE;IACyC,CAAC;IAEzD,QAAQ;QACN,2EAA2E;QAC3E,qBAAqB;QACrB,0BAA0B;QAC1B,uCAAuC;QACvC,SAAS;QACT,8CAA8C;QAC9C,OAAO;QACP,KAAK;IAEP,CAAC;;kFAhBU,iBAAiB;+GAAjB,iBAAiB;QDR9B,yEAAiB;QACf,yEAA6B;QAC3B,qEAAI;QAAA,oEAAS;QAAA,4DAAK;QAClB,4EAAgC;QAAA,2EAAgB;QAAA,4DAAS;QAC3D,4DAAM;QACR,4DAAM;QAEN,yEAAsB;QACpB,2EAAoE;QAKlE,2EAAkC;QAChC,2GAAiD;QACjD,6GAA8D;QAChE,qEAAe;QAGf,4EAAyC;QACvC,6GAAsD;QACtD,6GAAqE;QACvE,qEAAe;QAGf,4EAAmC;QACjC,6GAAiD;QACjD,6GAA+D;QACjE,qEAAe;QAGf,6EAAkC;QAChC,6GAAmD;QACnD,6GAGK;QACP,qEAAe;QAEf,8GAA4D;QAC5D,8GAAiE;QACnE,4DAAQ;QACV,4DAAM;QAGN,0EAAiB;QACf,4EAA+B;QACjC,4DAAM;;QAvCa,0DAAyB;QAAzB,sFAAyB;QA+BpB,2DAAiC;QAAjC,iGAAiC;QACpB,0DAAyB;QAAzB,kGAAyB;;;;;;;;;;;;;;;;;;;;;;;AEvCf;AAEmB;AACT;AACW;AACY;;AAWzE,MAAM,cAAc;;4EAAd,cAAc;2GAAd,cAAc;+GANhB;YACP,yDAAY;YACZ,2EAAqB;YACrB,8EAAY;SACb;mIAEU,cAAc,mBAPV,kEAAiB,EAAE,yFAAkB,aAElD,yDAAY;QACZ,2EAAqB;QACrB,8EAAY;;;;;;;;;;;;;;;;;;ACRT,MAAM,eAAe;IAC1B,gBACG,CAAC;;8EAFO,eAAe;gHAAf,eAAe,WAAf,eAAe,mBAFd,MAAM","file":"src_app_modules_products_products_module_ts.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { IProduct } from 'src/app/interfaces/Sites/ISite';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { ProductsService } from 'src/app/services/products.service';\r\n\r\n@Component({\r\n  selector: 'app-addupdate',\r\n  templateUrl: './addupdate.component.html',\r\n  styleUrls: ['./addupdate.component.css']\r\n})\r\nexport class AddupdateComponent implements OnInit {\r\n\r\n  form: FormGroup;\r\n  //IMAGES\r\n  mainFile: File = null;\r\n  urlMain;\r\n\r\n  constructor(\r\n    private _formBuilder: FormBuilder,\r\n    private _productsService: ProductsService,\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.form = this._formBuilder.group({\r\n      name: ['', [ Validators.required ] ],\r\n      description: ['', [ Validators.required ] ],\r\n      category: ['', [ Validators.required ] ],\r\n      price: ['', [ Validators.required ] ],\r\n      productCategory: ['', [ Validators.required ] ],\r\n      main: [false, [ ] ],\r\n    })\r\n\r\n  }\r\n\r\n  handleFileInput(e, identificador) {\r\n    var reader = new FileReader();\r\n    reader.onload = (e) => {\r\n        this.urlMain = e.target.result\r\n    };\r\n    reader.onerror = (e: any) => {\r\n      console.log('File could not be read: ' + e.target.error.code);\r\n    };\r\n    identificador == 1\r\n      this.mainFile = e.target.files[0]\r\n    reader.readAsDataURL(this.mainFile);\r\n  }\r\n\r\n  async uploadImage(type: string, urlSite: string, file: File) {\r\n    const imageName = type + urlSite;\r\n    //let referencia = (await this._fireStorage.upload(imageName, file)).ref;\r\n    //return await referencia.getDownloadURL();\r\n  }\r\n\r\n  async createProduct(){\r\n\r\n    let {name, description, price, main, productCategory} = this.form.value;\r\n    let imgUrl = await this.uploadImage('product', name , this.mainFile);\r\n    \r\n    // let newProduct: IProduct = {\r\n    //   name,\r\n    //   description,\r\n    //   price,\r\n    //   main,\r\n    //   //imgUrl,\r\n    //   productCategory,\r\n    //   active: true,\r\n    // }\r\n\r\n    //await this._productsService.addProduct(newProduct, 'divergentesbatik'); \r\n\r\n    alert(\"Producto Creado con Exito\")\r\n    this.form.reset();\r\n    this.mainFile = null;\r\n    this.urlMain = \"\";\r\n    \r\n  }\r\n\r\n}\r\n","<!--Agregar Producto-->\r\n<div class=\"row my-4\">\r\n    <h1 class=\"my-3\">Agregar/Editar Producto</h1>\r\n  \r\n    <form class=\"text-dark\" [formGroup]=\"form\" action=\"\" (submit)=\"createProduct()\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12 col-md-6\">\r\n          <div class=\"form-floating mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"floatingInput\"\r\n              formControlName=\"name\"\r\n            />\r\n            <label for=\"floatingInput\">Nombre</label>\r\n          </div>\r\n          <div class=\"form-floating mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"floatingPassword\"\r\n              formControlName=\"description\"\r\n            />\r\n            <label for=\"floatingInput\">Descripcion</label>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12 col-md-6\">\r\n          <div class=\"form-floating mb-3\">\r\n            <input\r\n              type=\"number\"\r\n              class=\"form-control\"\r\n              id=\"floatingPassword\"\r\n              formControlName=\"price\"\r\n            />\r\n            <label for=\"floatingInput\">Precio</label>\r\n          </div>\r\n          <div class=\"form-floating mb-3\">\r\n            <input\r\n              type=\"number\"\r\n              class=\"form-control\"\r\n              id=\"floatingPassword\"\r\n              formControlName=\"productCategory\"\r\n            />\r\n            <label for=\"floatingInput\">Categoria</label>\r\n          </div>\r\n    \r\n          <div class=\"form-check mb-3\">\r\n            <input\r\n              class=\"form-check-input\"\r\n              type=\"checkbox\"\r\n              value=\"\"\r\n              id=\"flexCheckDefault\"\r\n              formControlName=\"main\"\r\n            />\r\n            <label class=\"form-check-label text-light\" for=\"flexCheckDefault\">\r\n              Destacar\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12\">\r\n          <div class=\"col-sm-12 col-md-6 mt-3\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"formFile\" class=\"form-label text-white\">Insertar Imagen</label>\r\n              <input\r\n                accept=\"image/png, image/jpeg\"\r\n                (change)=\"handleFileInput($event,2)\"\r\n                class=\"form-control\"\r\n                type=\"file\"\r\n              />\r\n            </div> \r\n            <img\r\n            style=\"width: 500px\"\r\n            class=\"img-thumbnail bg-light\"\r\n            [src]=\"urlMain\"\r\n            alt=\"No seleccionÃ³ ninguna imagen\"\r\n          />\r\n          </div>  \r\n        </div>\r\n      </div>\r\n      \r\n  \r\n      <button class=\"btn btn-success my-3\" type=\"submit\">Cargar Producto</button>\r\n  \r\n    </form>\r\n  </div>\r\n  \r\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ProductsComponent } from './products.component';\n\nconst routes: Routes = [\n  {path:'', component: ProductsComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ProductsRoutingModule { }\n","<div class=\"row\">\n  <div class=\"col text-center\">\n    <h1>Productos</h1>\n    <button class=\"btn btn-success\">Agregar Producto</button>\n  </div>\n</div>\n\n<div class=\"row mt-3\">\n  <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\n    <!--- Note that these columns can be defined in any order.\n              The actual rendered columns are set as a property on the row definition\" -->\n\n    <!-- Position Column -->\n    <ng-container matColumnDef=\"name\">\n      <th mat-header-cell *matHeaderCellDef>Nombre</th>\n      <td mat-cell *matCellDef=\"let element\">{{ element.name }}</td>\n    </ng-container>\n\n    <!-- Name Column -->\n    <ng-container matColumnDef=\"description\">\n      <th mat-header-cell *matHeaderCellDef>Descripcion</th>\n      <td mat-cell *matCellDef=\"let element\">{{ element.description }}</td>\n    </ng-container>\n\n    <!-- Weight Column -->\n    <ng-container matColumnDef=\"price\">\n      <th mat-header-cell *matHeaderCellDef>Precio</th>\n      <td mat-cell *matCellDef=\"let element\">{{ element.price }}</td>\n    </ng-container>\n\n    <!-- Symbol Column -->\n    <ng-container matColumnDef=\"more\">\n      <th mat-header-cell *matHeaderCellDef>Detalles</th>\n      <td mat-cell *matCellDef=\"let element\">\n        <button class=\"btn btn-danger\">Eliminar</button>\n        <button class=\"btn btn-primary m-3\">Editar</button>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n  </table>\n</div>\n\n\n<div class=\"row\">\n  <app-addupdate></app-addupdate>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\r\nimport { ProductsService } from 'src/app/services/products.service';\r\n\r\n@Component({\r\n  selector: 'app-products',\r\n  templateUrl: './products.component.html',\r\n  styleUrls: ['./products.component.css']\r\n})\r\nexport class ProductsComponent implements OnInit {\r\n\r\n  displayedColumns: string[] = ['name', 'description', 'price', 'more'];\r\n  dataSource = []\r\n  constructor(private productsService: ProductsService) { }\r\n\r\n  ngOnInit(): void {\r\n    // this.productsService.getAllProductBySiteId('divergentesbatik').then(i=>{\r\n    //   i.subscribe(e=>{\r\n    //     e.docs.forEach(o=>{\r\n    //       this.dataSource.push(o.data())\r\n    //     })\r\n    //     this.dataSource = [...this.dataSource];\r\n    //   })\r\n    // })\r\n      \r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ProductsRoutingModule } from './products-routing.module';\nimport { ProductsComponent } from './products.component';\nimport { SharedModule } from 'src/app/modules/shared/shared.module';\nimport { AddupdateComponent } from './components/addupdate/addupdate.component';\n\n\n@NgModule({\n  declarations: [ProductsComponent, AddupdateComponent],\n  imports: [\n    CommonModule,\n    ProductsRoutingModule,\n    SharedModule\n  ]\n})\nexport class ProductsModule { }\n","import { Injectable } from '@angular/core';\r\nimport { IProduct } from '../interfaces/Sites/ISite';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ProductsService {\r\n  constructor(\r\n  ) {}\r\n\r\n  // async addProduct(newProduct: IProduct, siteId) {\r\n  //   return await this._fireStore.collection('sites').doc(siteId).collection('products').add(newProduct);\r\n  // }\r\n\r\n  // async getAllProductBySiteId(siteId: string) {\r\n  //   return await this._fireStore.collection('sites').doc(siteId).collection('products').get();\r\n  // }\r\n\r\n  // async updateProduct(product: IProduct, siteId) {\r\n  //   return await this._fireStore.collection('products').doc(siteId).collection('products').doc('asd').update(product);\r\n  // }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}